/*jslint white:false, onevar:true, undef:true, nomen:true, eqeqeq:true, plusplus:true, bitwise:true, regexp:true, newcap:true, immed:true, strict:false, browser:true *//*global jQuery:false, document:false, window:false, location:false */(function(e){e(document).ready(function(){if(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7)return;e('form[data-appui="ajaxsubmit"]').on("submit",function(t){t.preventDefault();var n=e("#item-title").val(),r='<div class="tile tile-header sortable"><h5>'+n+"</h5></div>";e(r).hide().prependTo("#dropbox").fadeIn("slow");e(this)[0].reset()});e("div.sortable").drag("start",function(t,n){e(this).addClass("dragging");return e(this).clone().css("opacity",".75").appendTo(this.parentNode)}).drag(function(t,n){e(n.proxy).css({top:n.offsetY,left:n.offsetX});var r=n.drop[0],i=e.data(r||{},"drop+reorder");if(r&&(r!=n.current||i!=n.method)){e(this)[i](r);n.current=r;n.method=i;n.update()}}).drag("end",function(t,n){e(this).removeClass("dragging");e(n.proxy).remove();e("#btn-cancel").fadeOut("slow",function(){e("#btn-save").fadeIn("slow")})}).drop("init",function(e,t){return this!=t.drag});e.drop({tolerance:function(t,n,r){var i=t.pageY>r.top+r.height/2;e.data(r.elem,"drop+reorder",i?"insertAfter":"insertBefore");return this.contains(r,[t.pageX,t.pageY])}})})})(jQuery);